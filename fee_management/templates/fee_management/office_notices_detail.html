{% extends "fee_management/office_base.html" %}
{% load static %}

{% block content %}
<div class="max-w-3xl mx-auto mt-12 bg-white p-8 rounded-lg shadow-md">
    <h2 class="text-3xl font-bold mb-4 text-gray-800">{{ notification.title }}</h2>
    <p class="mb-4 text-gray-700 whitespace-pre-line">{{ notification.message }}</p>
    <p class="mb-2 text-sm text-gray-600">
        <strong>Departments:</strong>
        {% for dept in notification.departments.all %}
            {{ dept.name }}{% if not forloop.last %}, {% endif %}
        {% empty %}
            None
        {% endfor %}
    </p>
    <p class="mb-2 text-sm text-gray-600">
        <strong>Sent By:</strong> 
        {% if notification.sent_by.get_full_name %}
            {{ notification.sent_by.get_full_name }}
        {% else %}
            {{ notification.sent_by.email }}
        {% endif %}
    </p>
    <p class="mb-2 text-sm text-gray-600">
        <strong>Created At:</strong> {{ notification.created_at|date:"M d, Y H:i" }}
    </p>
    {% if notification.attached_file %}
    <p class="mt-4">
        <strong>Attachment:</strong> 
        <a href="{{ notification.attached_file.url }}" target="_blank" class="text-indigo-600 hover:underline">
            Download
        </a>
    </p>
    {% endif %}
    <div class="mt-6">
        <a href="{% url 'fee_management:office_notice_list' %}" class="btn btn-secondary px-4 py-2 rounded-md text-white hover:bg-gray-700">
            Back to Notifications List
        </a>
    </div>
</div>
{% endblock %}
