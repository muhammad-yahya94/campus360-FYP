<div class="voucher-container">
    <!-- Office Copy -->
    <div class="voucher-copy">
      <h2 class="text-xl font-bold mb-2 text-center">Office Copy</h2>
      <div class="grid grid-cols-2 gap-2">
        <div>
          <h3 class="font-semibold">Student Details</h3>
          <p><strong>Name:</strong> {{ student_name }}</p>
          <p><strong>CNIC:</strong> {{ cnic }}</p>
          <p><strong>Father's Name:</strong> {{ father_name }}</p>
          <p><strong>Program:</strong> {{ program }}</p>
          <p><strong>Semester:</strong> {{ semester }}</p>
          <p><strong>Shift:</strong> {{ shift|title }}</p>
          <p><strong>Academic Session:</strong> {{ academic_session }}</p>
        </div>
        <div>
          <h3 class="font-semibold">Voucher Details</h3>
          <p><strong>Voucher ID:</strong> {{ voucher_id }}</p>
          <p><strong>Issue Date:</strong> {{ generated_at }}</p>
          <p><strong>Due Date:</strong> {{ due_date }}</p>
        </div>
      </div>
      <h3 class="font-semibold mt-2">Fee Details</h3>
      {% if late_fee_type %}
      <p class="bg-yellow-50 font-bold p-2 mb-2">Late Fee/Dues: {{ late_fee_amount|floatformat:2 }}</p>
    {% endif %}
    {% if new_voucher_created %}
      <p class="bg-green-50 font-bold p-2 mb-2">New Voucher Generated</p>
    {% endif %}
      <table class="w-full mt-1">
        <thead>
          <tr>
            <th class="border p-2 text-left">Description</th>
            <th class="border p-2 text-right">Amount (PKR)</th>
          </tr>
        </thead>
        <tbody>
          {% for head, amount in dynamic_fees.items %}
          <tr{% if head == late_fee_type %} class="bg-yellow-50 font-bold"{% endif %}>
            <td class="border p-2">{{ head }}</td>
            <td class="border p-2 text-right">{{ amount|floatformat:2 }}</td>
          </tr>
          {% empty %}
          <tr>
            <td class="border p-2">Semester Fee</td>
            <td class="border p-2 text-right">{{ total_amount|floatformat:2 }}</td>
          </tr>
          {% endfor %}
          <tr>
            <td class="border p-2 font-semibold">Total Amount</td>
            <td class="border p-2 text-right font-semibold">{{ updated_total_amount|floatformat:2 }}</td>
          </tr>
        </tbody>
      </table>
      <div class="office-details">
        <h4 class="font-semibold mb-1">Office Details:</h4>
        <p class="m-0"><strong>Name:</strong> {{ office_name }}</p>
        <p class="m-0"><strong>Address:</strong> {{ office_address }}</p>
        <p class="m-0"><strong>Contact:</strong> {{ office_contact }}</p>
        <p class="m-0 text-xs mt-1">Generated on: {{ generated_at }}</p>
      </div>
    </div>
  
    <!-- Student Copy -->
    <div class="voucher-copy">
      <h2 class="text-xl font-bold mb-2 text-center">Student Copy</h2>
      <div class="grid grid-cols-2 gap-2">
        <div>
          <h3 class="font-semibold">Student Details</h3>
          <p><strong>Name:</strong> {{ student_name }}</p>
          <p><strong>CNIC:</strong> {{ cnic }}</p>
          <p><strong>Father's Name:</strong> {{ father_name }}</p>
          <p><strong>Program:</strong> {{ program }}</p>
          <p><strong>Semester:</strong> {{ semester }}</p>
          <p><strong>Shift:</strong> {{ shift|title }}</p>
          <p><strong>Academic Session:</strong> {{ academic_session }}</p>
        </div>
        <div>
          <h3 class="font-semibold">Voucher Details</h3>
          <p><strong>Voucher ID:</strong> {{ voucher_id }}</p>
          <p><strong>Issue Date:</strong> {{ generated_at }}</p>
          <p><strong>Due Date:</strong> {{ due_date }}</p>
        </div>
      </div>
      <h3 class="font-semibold mt-2">Fee Details</h3>
      {% if late_fee_type %}
        <p class="bg-yellow-50 font-bold p-2 mb-2">Late Fee/Dues: {{ late_fee_amount|floatformat:2 }}</p>
      {% endif %}
      {% if new_voucher_generated %}
        <p class="bg-green-50 font-bold p-2 mb-2">New Voucher Generated</p>
      {% endif %}
      <table class="w-full mt-1">
        <thead>
          <tr>
            <th class="border p-2 text-left">Description</th>
            <th class="border p-2 text-right">Amount (PKR)</th>
          </tr>
        </thead>
        <tbody>
          {% for head, amount in dynamic_fees.items %}
          <tr{% if head == late_fee_type %} class="bg-yellow-50 font-bold"{% endif %}>
            <td class="border p-2">{{ head }}</td>
            <td class="border p-2 text-right">{{ amount|floatformat:2 }}</td>
          </tr>
          {% empty %}
          <tr>
            <td class="border p-2">Semester Fee</td>
            <td class="border p-2 text-right">{{ total_amount|floatformat:2 }}</td>
          </tr>
          {% endfor %}
          <tr>
            <td class="border p-2 font-semibold">Total Amount</td>
            <td class="border p-2 text-right font-semibold">{{ updated_total_amount|floatformat:2 }}</td>
          </tr>
        </tbody>
      </table>
      <div class="office-details">
        <h4 class="font-semibold mb-1">Office Details:</h4>
        <p class="m-0"><strong>Name:</strong> {{ office_name }}</p>
        <p class="m-0"><strong>Address:</strong> {{ office_address }}</p>
        <p class="m-0"><strong>Contact:</strong> {{ office_contact }}</p>
        <p class="m-0 text-xs mt-1">Generated on: {{ generated_at }}</p>
      </div>
    </div>
  
    <!-- Department Copy -->
    <div class="voucher-copy">
      <h2 class="text-xl font-bold mb-2 text-center">Department Copy</h2>
      <div class="grid grid-cols-2 gap-2">
        <div>
          <h3 class="font-semibold">Student Details</h3>
          <p><strong>Name:</strong> {{ student_name }}</p>
          <p><strong>CNIC:</strong> {{ cnic }}</p>
          <p><strong>Father's Name:</strong> {{ father_name }}</p>
          <p><strong>Program:</strong> {{ program }}</p>
          <p><strong>Semester:</strong> {{ semester }}</p>
          <p><strong>Shift:</strong> {{ shift|title }}</p>
          <p><strong>Academic Session:</strong> {{ academic_session }}</p>
        </div>
        <div>
          <h3 class="font-semibold">Voucher Details</h3>
          <p><strong>Voucher ID:</strong> {{ voucher_id }}</p>
          <p><strong>Issue Date:</strong> {{ generated_at }}</p>
          <p><strong>Due Date:</strong> {{ due_date }}</p>
        </div>
      </div>
      <h3 class="font-semibold mt-2">Fee Details</h3>
      {% if late_fee_type %}
      <p class="bg-yellow-50 font-bold p-2 mb-2">Late Fee/Dues: {{ late_fee_amount|floatformat:2 }}</p>
    {% endif %}
    {% if new_voucher_created %}
      <p class="bg-green-50 font-bold p-2 mb-2">New Voucher Generated</p>
    {% endif %}
      <table class="w-full mt-1">
        <thead>
          <tr>
            <th class="border p-2 text-left">Description</th>
            <th class="border p-2 text-right">Amount (PKR)</th>
          </tr>
        </thead>
        <tbody>
          {% for head, amount in dynamic_fees.items %}
          <tr{% if head == late_fee_type %} class="bg-yellow-50 font-bold"{% endif %}>
            <td class="border p-2">{{ head }}</td>
            <td class="border p-2 text-right">{{ amount|floatformat:2 }}</td>
          </tr>
          {% empty %}
          <tr>
            <td class="border p-2">Semester Fee</td>
            <td class="border p-2 text-right">{{ total_amount|floatformat:2 }}</td>
          </tr>
          {% endfor %}
          <tr>
            <td class="border p-2 font-semibold">Total Amount</td>
            <td class="border p-2 text-right font-semibold">{{ updated_total_amount|floatformat:2 }}</td>
          </tr>
        </tbody>
      </table>
      <div class="office-details">
        <h4 class="font-semibold mb-1">Office Details:</h4>
        <p class="m-0"><strong>Name:</strong> {{ office_name }}</p>
        <p class="m-0"><strong>Address:</strong> {{ office_address }}</p>
        <p class="m-0"><strong>Contact:</strong> {{ office_contact }}</p>
        <p class="m-0 text-xs mt-1">Generated on: {{ generated_at }}</p>
      </div>
    </div>
  </div>